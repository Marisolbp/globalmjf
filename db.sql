create table m_departamento(
    id int primary key auto_increment not null,
    nombre varchar(50) not null
);

INSERT INTO m_departamento (id, nombre) VALUES
(1, 'Amazonas'),
(2, 'Áncash'),
(3, 'Apurímac'),
(4, 'Arequipa'),
(5, 'Ayacucho'),
(6, 'Cajamarca'),
(7, 'Callao'),
(8, 'Cusco'),
(9, 'Huancavelica'),
(10, 'Huánuco'),
(11, 'Ica'),
(12, 'Junín'),
(13, 'La Libertad'),
(14, 'Lambayeque'),
(15, 'Lima'),
(16, 'Loreto'),
(17, 'Madre de Dios'),
(18, 'Moquegua'),
(19, 'Pasco'),
(20, 'Piura'),
(21, 'Puno'),
(22, 'San Martín'),
(23, 'Tacna'),
(24, 'Tumbes'),
(25, 'Ucayali');

create table m_provincia(
    id int primary key auto_increment not null,
    id_depart int not null,
    nombre varchar(50) not null,
    FOREIGN KEY (id_depart) REFERENCES m_departamento(id)
);

INSERT INTO m_provincia (id, id_depart, nombre) VALUES
(1, 1, 'Chachapoyas'),
(2, 1, 'Bagua'),
(3, 1, 'Bongará'),
(4, 1, 'Condorcanqui'),
(5, 1, 'Luya'),
(6, 1, 'Rodríguez de Mendoza'),
(7, 1, 'Utcubamba'),
(8, 2, 'Aija'),
(9, 2, 'Antonio Raymondi'),
(10, 2, 'Asunción'),
(11, 2, 'Bolognesi'),
(12, 2, 'Carhuaz'),
(13, 2, 'Carlos Fermín Fitzcarrald'),
(14, 2, 'Casma'),
(15, 2, 'Corongo'),
(16, 2, 'Huaraz'),
(17, 2, 'Huari'),
(18, 2, 'Huarmey'),
(19, 2, 'Huaylas'),
(20, 2, 'Mariscal Luzuriaga'),
(21, 2, 'Ocros'),
(22, 2, 'Pallasca'),
(23, 2, 'Pomabamba'),
(24, 2, 'Recuay'),
(25, 2, 'Santa'),
(26, 2, 'Sihuas'),
(27, 2, 'Yungay'),
(28, 3, 'Abancay'),
(29, 3, 'Andahuaylas'),
(30, 3, 'Antabamba'),
(31, 3, 'Aymaraes'),
(32, 3, 'Cotabambas'),
(33, 3, 'Chincheros'),
(34, 3, 'Grau'),
(35, 4, 'Arequipa'),
(36, 4, 'Camaná'),
(37, 4, 'Caravelí'),
(38, 4, 'Castilla'),
(39, 4, 'Caylloma'),
(40, 4, 'Condesuyos'),
(41, 4, 'Islay'),
(42, 4, 'La Unión'),
(43, 5, 'Cangallo'),
(44, 5, 'Huamanga'),
(45, 5, 'Huanca Sancos'),
(46, 5, 'Huanta'),
(47, 5, 'La Mar'),
(48, 5, 'Lucanas'),
(49, 5, 'Parinacochas'),
(50, 5, 'Páucar del Sara Sara'),
(51, 5, 'Sucre'),
(52, 5, 'Víctor Fajardo'),
(53, 5, 'Vilcas Huamán'),
(54, 6, 'Cajabamba'),
(55, 6, 'Cajamarca'),
(56, 6, 'Celendín'),
(57, 6, 'Chota'),
(58, 6, 'Contumazá'),
(59, 6, 'Cutervo'),
(60, 6, 'Hualgayoc'),
(61, 6, 'Jaén'),
(62, 6, 'San Ignacio'),
(63, 6, 'San Marcos'),
(64, 6, 'San Miguel'),
(65, 6, 'San Pablo'),
(66, 6, 'Santa Cruz'),
(67, 7, 'Callao'),
(68, 8, 'Acomayo'),
(69, 8, 'Anta'),
(70, 8, 'Calca'),
(71, 8, 'Canas'),
(72, 8, 'Canchis'),
(73, 8, 'Chumbivilcas'),
(74, 8, 'Cusco'),
(75, 8, 'Espinar'),
(76, 8, 'La Convención'),
(77, 8, 'Paruro'),
(78, 8, 'Paucartambo'),
(79, 8, 'Quispicanchi'),
(80, 8, 'Urubamba'),
(81, 9, 'Acobamba'),
(82, 9, 'Angaraes'),
(83, 9, 'Castrovirreyna'),
(84, 9, 'Churcampa'),
(85, 9, 'Huancavelica'),
(86, 9, 'Huaytará'),
(87, 9, 'Tayacaja'),
(88, 10, 'Ambo'),
(89, 10, 'Dos de Mayo'),
(90, 10, 'Huacaybamba'),
(91, 10, 'Huamalíes'),
(92, 10, 'Huánuco'),
(93, 10, 'Lauricocha'),
(94, 10, 'Leoncio Prado'),
(95, 10, 'Marañón'),
(96, 10, 'Pachitea'),
(97, 10, 'Puerto Inca'),
(98, 10, 'Yarowilca'),
(99, 11, 'Chincha'),
(100, 11, 'Ica'),
(101, 11, 'Nazca'),
(102, 11, 'Palpa'),
(103, 11, 'Pisco'),
(104, 12, 'Chanchamayo'),
(105, 12, 'Chupaca'),
(106, 12, 'Concepción'),
(107, 12, 'Huancayo'),
(108, 12, 'Jauja'),
(109, 12, 'Junín'),
(110, 12, 'Satipo'),
(111, 12, 'Tarma'),
(112, 12, 'Yauli'),
(113, 13, 'Ascope'),
(114, 13, 'Bolívar'),
(115, 13, 'Chepén'),
(116, 13, 'Gran Chimú'),
(117, 13, 'Julcán'),
(118, 13, 'Otuzco'),
(119, 13, 'Pacasmayo'),
(120, 13, 'Pataz'),
(121, 13, 'Sánchez Carrión'),
(122, 13, 'Santiago de Chuco'),
(123, 13, 'Trujillo'),
(124, 13, 'Virú'),
(125, 14, 'Chiclayo'),
(126, 14, 'Ferreñafe'),
(127, 14, 'Lambayeque'),
(128, 15, 'Barranca'),
(129, 15, 'Cajatambo'),
(130, 15, 'Canta'),
(131, 15, 'Cañete'),
(132, 15, 'Huaral'),
(133, 15, 'Huarochirí'),
(134, 15, 'Huaura'),
(135, 15, 'Lima'),
(136, 15, 'Oyón'),
(137, 15, 'Yauyos'),
(138, 16, 'Alto Amazonas'),
(139, 16, 'Datem del Marañón'),
(140, 16, 'Loreto'),
(141, 16, 'Mariscal Ramón Castilla'),
(142, 16, 'Maynas'),
(143, 16, 'Putumayo'),
(144, 16, 'Requena'),
(145, 16, 'Ucayali'),
(146, 17, 'Manu'),
(147, 17, 'Tahuamanu'),
(148, 17, 'Tambopata'),
(149, 18, 'General Sánchez Cerro'),
(150, 18, 'Ilo'),
(151, 18, 'Mariscal Nieto'),
(152, 19, 'Daniel Alcides Carrión'),
(153, 19, 'Oxapampa'),
(154, 19, 'Pasco'),
(155, 20, 'Ayabaca'),
(156, 20, 'Huancabamba'),
(157, 20, 'Morropón'),
(158, 20, 'Paita'),
(159, 20, 'Piura'),
(160, 20, 'Sechura'),
(161, 20, 'Sullana'),
(162, 20, 'Talara'),
(163, 21, 'Azángaro'),
(164, 21, 'Carabaya'),
(165, 21, 'Chucuito'),
(166, 21, 'El Collao'),
(167, 21, 'Huancané'),
(168, 21, 'Lampa'),
(169, 21, 'Melgar'),
(170, 21, 'Moho'),
(171, 21, 'Puno'),
(172, 21, 'San Antonio de Putina'),
(173, 21, 'San Román'),
(174, 21, 'Sandia'),
(175, 21, 'Yunguyo'),
(176, 22, 'Bellavista'),
(177, 22, 'El Dorado'),
(178, 22, 'Huallaga'),
(179, 22, 'Lamas'),
(180, 22, 'Mariscal Cáceres'),
(181, 22, 'Moyobamba'),
(182, 22, 'Picota'),
(183, 22, 'Rioja'),
(184, 22, 'San Martín'),
(185, 22, 'Tocache'),
(186, 23, 'Candarave'),
(187, 23, 'Jorge Basadre'),
(188, 23, 'Tacna'),
(189, 24, 'Contralmirante Villar'),
(190, 24, 'Tumbes'),
(191, 25, 'Atalaya'),
(192, 25, 'Coronel Portillo'),
(193, 25, 'Padre Abad'),
(194, 25, 'Purús'),
(195, 16, 'Putumayo'),
(196, 16, 'Datem del Marañón');


create table m_distrito(
    id int primary key auto_increment not null,
    id_depart int not null,
    id_provin int not null,
    nombre varchar(50) not null,
    FOREIGN KEY (id_depart) REFERENCES m_departamento(id),
    FOREIGN KEY (id_provin) REFERENCES m_provincia(id)
);

INSERT INTO m_distrito (id_depart, id_provin, nombre) VALUES
(15, 135, 'Ana María del Mar'),
(15, 135, 'Barranco'),
(15, 135, 'Breña'),
(15, 135, 'Carabayllo'),
(15, 135, 'Cercado de Lima'),
(15, 135, 'Chaclacayo'),
(15, 135, 'Chorrillos'),
(15, 135, 'Cieneguilla'),
(15, 135, 'Comas'),
(15, 135, 'El Agustino'),
(15, 135, 'Independencia'),
(15, 135, 'Jesús María'),
(15, 135, 'La Molina'),
(15, 135, 'La Victoria'),
(15, 135, 'Lince'),
(15, 135, 'Los Olivos'),
(15, 135, 'Lurigancho'),
(15, 135, 'Lurin'),
(15, 135, 'Magdalena del Mar'),
(15, 135, 'Miraflores'),
(15, 135, 'Pueblo Libre'),
(15, 135, 'Pucusana'),
(15, 135, 'Puente Piedra'),
(15, 135, 'Rímac'),
(15, 135, 'San Bartolo'),
(15, 135, 'San Borja'),
(15, 135, 'San Isidro'),
(15, 135, 'San Juan de Lurigancho'),
(15, 135, 'San Juan de Miraflores'),
(15, 135, 'San Luis'),
(15, 135, 'San Martín de Porres'),
(15, 135, 'San Miguel'),
(15, 135, 'Santiago de Surco'),
(15, 135, 'Surquillo'),
(15, 135, 'Villa El Salvador'),
(15, 135, 'Villa María del Triunfo');

create table m_tipo_propiedad(
    id int primary key auto_increment not null,
    nombre varchar(50) not null,
    estado char(1) not null
);

INSERT INTO m_distrito (nombre, estado) VALUES
('Casa', 'A'),
('Departamento', 'A'),
('Terrno', 'A');

create table m_nosotros(
    vision text,
    mision text,
    fec_crea date,
    usu_crea varchar(30),
    fec_actu date,
    usu_actu varchar(30)
);

create table m_nosotros_valores(
    id int primary key auto_increment not null,
    valor varchar(50) not null,
    descripcion text
);

create table m_independizacion(
    id int primary key auto_increment not null,
    descripcion text,
    fec_crea date,
    usu_crea varchar(30),
    fec_actu date,
    usu_actu varchar(30)
);

create table m_configuracion(
    numero varchar(20),
    correo varchar(100),
    direccion varchar(250),
    longitud varchar(50),
    latitud varchar(50),
    fec_crea date,
    usu_crea varchar(30),
    fec_actu date,
    usu_actu varchar(30)
);

create table m_foto_slider(
    id int primary key auto_increment not null,
    foto blob not null,
    nombre varchar(50) not null,
    orden int not null,
    fec_crea date,
    usu_crea varchar(30)
);

create table m_usuario(
    id int primary key auto_increment not null,
    nombre varchar(100) not null,
    apellido varchar(100) not null,
    correo varchar(100),
    usuario varchar(30) not null,
    clave varchar(70) not null,
    estado char(1) not null,
    rol char(1) not null,
    foto blob not null,
    fec_crea date,
    usu_crea varchar(30),
    fec_actu date,
    usu_actu varchar(30)
);

create table m_miembro(
    id int primary key auto_increment not null,
    nombre varchar(100) not null,
    apellido varchar(100) not null,
    puesto varchar(100) not null,
    linkedin varchar(200),
    instagram varchar(200),
    correo varchar(100),
    foto blob not null,
    descrip text, 
    orden int not null,
    estado char(1) not null,
    fec_crea date,
    usu_crea varchar(30),
    fec_actu date,
    usu_actu varchar(30)
);

create table g_solicitud(
    id int primary key auto_increment not null,
    nombre varchar(100) not null,
    apellido varchar(100) not null,
    dni varchar(10) not null,
    telefono varchar(10) not null,
    modalidad char(1) not null,
    id_t_prop int not null,
    FOREIGN KEY (id_t_prop) REFERENCES m_tipo_propiedad(id),
    id_depart int not null,
    id_provin int not null,
    id_distri int not null,
    FOREIGN KEY (id_depart) REFERENCES m_departamento(id),
    FOREIGN KEY (id_provin) REFERENCES m_provincia(id),
    FOREIGN KEY (id_distri) REFERENCES m_distrito(id),
    detalle text,
    estado char(1) not null,
    fec_crea date,
    usu_crea varchar(30),
    fec_actu date,
    usu_actu varchar(30)
);

create table g_independizacion(
    id int primary key auto_increment not null,
    nombre varchar(250) not null,
    id_distri int not null,
    FOREIGN KEY (id_distri) REFERENCES m_distrito(id),
    area varchar(20) not null,
    estado char(1) not null,
    fec_crea date,
    usu_crea varchar(30),
    fec_actu date,
    usu_actu varchar(30)
);

create table g_independizacion_foto(
    id int primary key auto_increment not null,
    id_indep int not null,
    FOREIGN KEY (id_indep) REFERENCES g_independizacion(id),
    foto blob not null,
    nombre varchar(50) not null,
    orden int not null
);

create table g_proyec_arqui(
    id int primary key auto_increment not null,
    nombre varchar(250) not null,
    descrip text,
    npisos int not null,
    nbanos int not null,
    area varchar(20) not null,
    id_t_prop int not null,
    FOREIGN KEY (id_t_prop) REFERENCES m_tipo_propiedad(id),
    estado char(1) not null,
    fec_crea date,
    usu_crea varchar(30),
    fec_actu date,
    usu_actu varchar(30)
);

create table g_proyec_arqui_foto(
    id int primary key auto_increment not null,
    id_proyec int not null,
    FOREIGN KEY (id_proyec) REFERENCES g_proyec_arqui(id),
    foto blob not null,
    nombre varchar(50) not null,
    orden int not null
);

CREATE TABLE g_propi_venta (
    id INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
    codigo VARCHAR(10) NOT NULL,
    nombre VARCHAR(250) NOT NULL,
    descrip TEXT,
    id_depart INT NOT NULL,
    id_provin INT NOT NULL,
    id_distri INT NOT NULL,
    direccion VARCHAR(250) NOT NULL,
    longitud VARCHAR(50) NOT NULL,
    latitud VARCHAR(50) NOT NULL,
    npisos INT NULL,
    ndormit INT NULL,
    nbanos INT NULL,
    ncochera INT NULL,
    ncocina INT NULL,
    nlavand INT NULL,
    ndeposito INT NULL,
    id_t_prop INT NOT NULL,
    moneda CHAR(3) NOT NULL,
    precio DECIMAL(10,2) NOT NULL,
    valmcua DECIMAL(10,2) NULL,
    modalidad CHAR(1) NOT NULL,
    antiguedad VARCHAR(30) NULL,
    mantenimiento DECIMAL(10,2) NULL,
    estado_im CHAR(1) NOT NULL,
    ubicacion VARCHAR(50) NOT NULL,
    atotal VARCHAR(20) NOT NULL,
    aconstru VARCHAR(20) NULL,
    estado CHAR(1) NOT NULL,
    fec_crea DATE NOT NULL,
    usu_crea VARCHAR(30) NOT NULL,
    fec_actu DATE NULL,
    usu_actu VARCHAR(30) NULL,
    
    FOREIGN KEY (id_depart) REFERENCES m_departamento(id),
    FOREIGN KEY (id_provin) REFERENCES m_provincia(id),
    FOREIGN KEY (id_distri) REFERENCES m_distrito(id),
    FOREIGN KEY (id_t_prop) REFERENCES m_tipo_propiedad(id)
);


create table g_propi_venta_foto(
    id int primary key auto_increment not null,
    id_propi int not null,
    FOREIGN KEY (id_propi) REFERENCES g_propi_venta(id),
    foto blob not null,
    nombre varchar(50) not null,
    orden int not null
);